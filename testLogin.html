<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Test Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h1>Test Data Login</h1>
    <button class="btn btn-primary" onclick="testLogin()">Test Login Ahmad</button>
    <button class="btn btn-secondary" onclick="testClearStorage()">Clear localStorage</button>
    <button class="btn btn-info" onclick="testShowStorage()">Show Storage Data</button>
    
    <div id="output" class="mt-5"></div>
</div>

<script>
    function testLogin() {
        // Simulasi login
        const siswa = {
            nama: "Ahmad Pratama",
            nis: "20230001",
            email: "ahmad@sekolah.ac.id",
            telepon: "081234567890",
            jurusan: "Teknik Informatika",
            tahun: 2023,
            status: "Aktif",
            alamat: "Jl. Mawar No. 123",
            password: "ahmad123"
        };
        
        localStorage.setItem('siswaLogin', JSON.stringify(siswa));
        localStorage.setItem('userRole', 'Siswa');
        
        document.getElementById('output').innerHTML = `
            <div class="alert alert-success">
                <strong>Test Login Berhasil!</strong><br>
                Data siswa telah disimpan di localStorage<br>
                Redirect akan terjadi dalam 2 detik...<br>
                <small>siswaLogin:</small> ${localStorage.getItem('siswaLogin')}
            </div>
        `;
        
        setTimeout(() => {
            window.location.href = 'screen/user/dashboardUser.html';
        }, 2000);
    }
    
    function testClearStorage() {
        localStorage.removeItem('siswaLogin');
        localStorage.removeItem('userRole');
        localStorage.removeItem('daftarSiswa');
        document.getElementById('output').innerHTML = `<div class="alert alert-warning">localStorage telah dikosongkan</div>`;
    }
    
    function testShowStorage() {
        const siswaLogin = localStorage.getItem('siswaLogin');
        const daftarSiswa = localStorage.getItem('daftarSiswa');
        
        document.getElementById('output').innerHTML = `
            <div class="card">
                <div class="card-header">
                    <h5>Storage Data</h5>
                </div>
                <div class="card-body">
                    <h6>siswaLogin:</h6>
                    <pre>${siswaLogin ? siswaLogin : 'Kosong'}</pre>
                    
                    <h6>daftarSiswa:</h6>
                    <pre>${daftarSiswa ? daftarSiswa : 'Kosong'}</pre>
                </div>
            </div>
        `;
    }
    
    // Tampilkan data storage saat halaman load
    window.addEventListener('load', testShowStorage);
</script>
</body>
</html>
